<!--
Evenge - gestor de eventos (events management)
Copyright (C) 2014 - desarrollo.evenge@gmail.com
Carlos Campos Fuentes | Francisco Javier Exposito Cruz | Ivan Ortega Alba | Victor Coronas Lara

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.
-->
{% if info.userLogin == False %}
{% extends "templates/indexVisitante.html" %}
{% else %}
{% extends "templates/index.html" %}
{% endif %}
{# tittle: titulo de la página #}
{% block title %}{{ evento.nombre }}{% endblock %}
{# contenido central de la página #}
{% block content %}
<div class="row">
  <div class="individual-menu-cont col-sm-12">
    <ul class="individual-menu nav">
      <li role="presentation" class="individual-opt active"><a data-toggle="tab" href="#descripcion">Descripción</a></li>
      <li role="presentation" class="individual-opt"><a data-toggle="tab" href="#asistentes">Asistentes</a></li>
      <li role="presentation" class="individual-opt"><a data-toggle="tab" href="#ponentes">Ponentes</a></li>
    </ul>
  </div>

  <div class="col-sm-12">
    {% if evento %}
    <div data-hora="{{ evento.hora }}" data-fecha="{{ evento.fecha }}" data-id="{{ id }}" class="event-content col-md-12 pad-panel">
      <div class="titular-h1">
        <h1>{{ evento.nombre }}  <small>{{ evento.fecha }} - {{ evento.hora }}</small></h1>
      </div>
      <div class="col-md-12 social">
        <button data-toggle="modal" data-target="#modalAsistente" class="btn btn-inscribirse">Asistir a este evento</button>
        <a href="https://twitter.com/share" class="twitter-share-button" data-size="large" data-via="grupoEvenge">Tweet</a>
      </div>
      <div class="tab-content">

        <div class="tab-pane fade in active" id="descripcion">
          <div class="descripcion-pane col-sm-7">
            <div class="contenedor-datos col-sm-12">
              <div class="col-sm-12 part-left">
                <h5>Organizador</h5>
              </div>
              <div class="col-sm-12 part-right">
                <h5>{{ usuario.nombre }} {{ usuario.apellidos }} </h5>
              </div>
            </div>
            <div class="contenedor-datos col-sm-12">
              <div class="col-sm-12 part-left">
                <h5>Descripción</h5>
              </div>
              <div class="col-sm-12 part-right">
                <p>{{ descripcion|safe }}</p>
              </div>
            </div>
          </div>
          <div id="lm" class="col-sm-5">
            <div class="contenedor-datos col-sm-12">
              <div class="col-sm-12 part-left">
                <h5>Lugar</h5>
              </div>
              <div class="col-sm-12 part-right">
                <h5>{{ evento.lugar }}</h5>
              </div>
            </div>
            <div class="col-sm-12 contenedor-datos">
              <div class="col-sm-12 part-left">
                <h5>Ubicación</h5>
              </div>
              <div data-coord="{{ evento.coordenadas }}" id="map-canvas" style="min-width: 310px; height: 370px; margin: 0 auto" class="evento-map"></div>
            </div>
          </div>
        </div>

        <div class="tab-pane fade" id="asistentes">
          <div class="col-sm-12">
            <div id="buscador-asistente" class="col-sm-12">
              <div class="input-group">
                <span class="input-group-addon" id="sizing-addon1"><i class="fa fa-search"></i></span>
                <input type="text" class="form-control" placeholder="Introduce asistente" aria-describedby="sizing-addon1">
              </div>
            </div>
            {% for a in asistentes %}
            <div class="col-sm-12 col-xs-12 asistente">
              <div class="col-xs-5">
                <h5>{{ a.nombre }} {{ a.apellidos }}</h5>
              </div>
              <div class="col-xs-2">
                <h5>{{ a.dni }}</h5>
              </div>
              <div class="col-xs-2">
                <h5>{{ a.telefono }}</h5>
              </div>
              <div class="col-md-offset-1 col-xs-2">
                <div class="btn-group" role="group" aria-label="...">
                  <button data-id="{{ a.id }}" class="btn btn-default delete-button"><i class="fa fa-times"></i></button>
                  <button data-id="{{ a.id }}" class="btn btn-default pdf-button"><i class="fa fa-file-pdf-o"></i></button>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>

        <div class="tab-pane fade" id="ponentes">
          <div class="col-sm-11 col-xs-11">
            <div class="input-group">
              <span class="input-group-addon" id="sizing-addon1"><i class="fa fa-search"></i></span>
              <input type="text" class="form-control" placeholder="Introduce ponente" aria-describedby="sizing-addon1">
            </div>
          </div>
          <div class="col-sm-1 col-xs-1">
            <button class="btn btn-default add-button"><i class="fa fa-plus"></i></button>
          </div>

          <div style="display:none;" class="formulario-ponente col-sm-6 col-md-offset-3">
            <form>
              <div class="input-group">
                <span class="input-group-addon" id="sizing-addon1"><i class="fa fa-user"></i></span>
                <input type="text" class="form-control" placeholder="Nombre" aria-describedby="sizing-addon1">
              </div>
              <div class="input-group">
                <span class="input-group-addon" id="sizing-addon1"><i class="fa fa-user"></i></span>
                <input type="text" class="form-control" placeholder="Apellidos" aria-describedby="sizing-addon1">
              </div>
              <div class="input-group">
                <span class="input-group-addon" id="sizing-addon1"><i class="fa fa-envelope-o"></i></span>
                <input type="text" class="form-control" placeholder="Email" aria-describedby="sizing-addon1">
              </div>
              <div class="input-group">
                <span class="input-group-addon" id="sizing-addon1"><i class="fa fa-twitter"></i></span>
                <input type="text" class="form-control" placeholder="Twitter" aria-describedby="sizing-addon1">
              </div>
              <div class="input-group">
                <span class="input-group-addon" id="sizing-addon1"><i class="fa fa-phone"></i></span>
                <input type="text" class="form-control" placeholder="Telefono" aria-describedby="sizing-addon1">
              </div>
              <div class="input-group">
                <span class="input-group-addon" id="sizing-addon1"><i class="fa fa-link"></i></span>
                <input type="text" class="form-control" placeholder="Web" aria-describedby="sizing-addon1">
              </div>
              <button type="submit" class="btn btn-default btn-block">Crear</button>
            </form>
          </div>

          <div class="col-sm-12">
            {% for p in ponentes %}
            <div class="col-sm-12">
              <div class="col-xs-5">
                <h5>{{ p.nombre }}{{ p.apellidos }}</h5>
              </div>
              <div class="col-xs-5">
                <h5>{{ p.email }}</h5>
              </div>
              <div class="col-xs-2">
                <div class="btn-group" role="group" aria-label="...">
                  <button data-id="{{ a.id }}" class="btn btn-default dropdown-button"><i class="fa fa-arrow-down"></i></button>
                  <button data-id="{{ p.id }}" class="btn btn-default edit-button"><i class="fa fa-pencil-square-o"></i></button>
                  <button data-id="{{ p.id }}" class="btn btn-default delete-button"><i class="fa fa-times"></i></button>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>

      </div>
    </div>

    <div class="modal fade" id="modalAsistente" tabindex="-1" role="dialog" aria-labelledby="modalAsistenteLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">

          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">Asistir al evento</h4>
          </div>

          <div class="modal-body">
            <form id="form-ins">
              <div class="input-group">
                <span class="input-group-addon"><i class="fa fa-user fa-fw"></i></span>
                <input type="text" class="form-control" name="ins-nombre" id="ins-nombre" placeholder="Nombre" aria-describedby="sizing-addon1">
              </div>
              <div class="input-group">
                <span class="input-group-addon"><i class="fa fa-user fa-fw"></i></span>
                <input type="text" class="form-control" name="ins-apellidos" id="ins-apellidos" placeholder="Apellidos" aria-describedby="sizing-addon1">
              </div>
              <div class="input-group">
                <span class="input-group-addon"><i class="fa fa-newspaper-o fa-fw"></i></span>
                <input type="text" class="form-control" name="ins-dni" id="ins-dni" placeholder="DNI/NIF" aria-describedby="sizing-addon1">
              </div>
              <div class="input-group">
                <span class="input-group-addon"><i class="fa fa-envelope-o fa-fw"></i></span>
                <input type="text" class="form-control" name="ins-email" id="ins-email" placeholder="Email" aria-describedby="sizing-addon1">
              </div>
              <div class="input-group">
                <span class="input-group-addon"><i class="fa fa-phone fa-fw"></i></span>
                <input type="text" class="form-control" name="ins-telefono" id="ins-telefono" placeholder="Telefono" aria-describedby="sizing-addon1">
              </div>
              <div class="input-group">
                <span class="input-group-addon"><i class="fa fa-twitter fa-fw"></i></span>
                <input type="text" class="form-control" name="ins-twitter" id="ins-twitter" placeholder="Twitter" aria-describedby="sizing-addon1">
              </div>
              <div class="input-group">
                <span class="input-group-addon"><i class="fa fa-link fa-fw"></i></span>
                <input type="text" class="form-control" name="ins-web" id="ins-web" placeholder="Web" aria-describedby="sizing-addon1">
              </div>
              <button style="margin-top:20px;" type="submit" class="btn btn-success btn-block btn-form" value="Guardar">Aceptar Inscripción</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
  {% endif %}
</div>

{% endblock %}

{% block scriptFooter %}
  <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&signed_in=true&libraries=places"></script>
  <script type="text/javascript" src="/_dt/js/event.js"></script>
{% endblock %}
